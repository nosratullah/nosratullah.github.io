<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">   
    <!-- <title>Sketch</title> -->
    <link rel="stylesheet" href="style.css">    <!-- CSS only -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/nexmoe.css"> -->
    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
  </head>

  <body>
    <!-- Top Navigation -->
    <nav class="hero">
      <a>
        <h1 href="index.html"> Nosrat</h1>
      </a>
      <div class="nav-controls">
        <div id="menu"></div>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
          <i class="fa-regular fa-moon" id="theme-icon"></i>
        </button>
      </div>
    </nav>

    <div class="layout-container">
      <!-- Left Side Panel -->
      <aside class="side-panel">
        <header class="profile-section">
          <img src="images/profile.png" alt="Profile" class="profile-image">
          <h3>
            Hey &#128075;, I'm Nosrat, a PhD student in <a href="https:www.ndlab.ch" target="_blank" rel="noopener noreferrer">Neural Dynamics Lab </a>
          </h3>
          <h6>
            I'm working on the theoretical aspects of neural manifolds, trying to understand how the spiking activity of neuronal networks gives rise to low-dimensional spatio-temporal patterns.
          </h6>
          <h5>
            Follow me here &#128071;
          </h5>
          <div class="social-icons">
            <a href="https://www.github.com/nosratullah" class="fa-brands fa-github" aria-hidden="true" target="_blank" rel="noopener noreferrer"></a>
            <!-- <a href="https://www.twitter.com/nosratullah" target="_blank" rel="noopener noreferrer" class="fa-brands fa-bluesky"></a> -->
            <a href="https://www.linkedin.com/in/nosratullah/" target="_blank" rel="noopener noreferrer" class="fa-brands fa-linkedin"></a>  
            <a href="https://bsky.app/profile/nosrat.bsky.social" target="_blank" rel="noopener noreferrer" class="fa-brands fa-bluesky" aria-label="Bluesky"></a>  
          </div>
        </header>
      </aside>

      <!-- Main Content Area for Sketch -->
      <main class="main-content">
        <div id="sketch-container"></div>
      </main>
    </div>

    <script>
        fetch('menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu').innerHTML = data;
            });

        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const body = document.body;

        // Check for saved theme preference or default to light mode
        const savedTheme = localStorage.getItem('theme') || 'light';
        body.setAttribute('data-theme', savedTheme);
        updateThemeIcon(savedTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            if (theme === 'dark') {
                themeIcon.className = 'fa-regular fa-sun';
            } else {
                themeIcon.className = 'fa-regular fa-moon';
            }
        }
    </script>
  <script src="sketch_lorenz.js"></script>
  </body>
</html>
